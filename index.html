<!DOCTYPE html> <!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]--> <!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]--> <!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html manifest="cache.manifest" class="no-js" lang="en"><!--<![endif]--> <head> <meta charset="utf-8"> <title>A personal Blog</title> <meta name="author" content="Manuel"> <meta name="keywords" content="blog, personal, coding, foot, math, physics, life"> <meta name="description" content="This is a personal Blog about my life"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="apple-touch-icon" href="/style/touch-icon.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/style/touch-icon.png"> <link rel="canonical" href="https://manuel-io.github.io"> <link rel="shortcut icon" type="image/png" href="/favicon.png"> <link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"> <link href="/atom.xml" rel="alternate" title="A personal Blog" type="application/atom+xml"> <script src="/javascripts/libs/jquery-1.11.2.min.js" type="text/javascript"></script> <script src="/javascripts/blog.js" type="text/javascript"></script> <script type="text/javascript" src="/javascripts/mathjax/unpacked/MathJax.js?config=TeX-AMS_HTML"></script> <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "jax": ["input/TeX", "output/HTML-CSS"],
    styles: { ".MathJax_Display": { "text-align": "left" } },
    "tex2jax": {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: { autoNumber: "AMS" },
      TagSide: "left"
    },
    "HTML-CSS": {
      availableFonts: ["TeX"],
      linebreaks: { automatic: true }
    }
  });
</script> </head> <body> <header class='site'><h1> <a href="/"> <p>A</p> <p> </p> <p>p</p> <p>e</p> <p>r</p> <p>s</p> <p>o</p> <p>n</p> <p>a</p> <p>l</p> <p> </p> <p>B</p> <p>l</p> <p>o</p> <p>g</p> </a> </h1> </header> <div style='clear:both;'></div> <nav><span><a href="/">Blog</a></span> <span><a href="/blog/photography">Photography</a></span> <span><a href="http://vkitchen.herokuapp.com" target="_blank">Kitchen</a></span> <span><a href="https://minicloud.zahlenpresse.de" target="_blank">Minicloud</a></span> <span><a href="https://github.com/manuel-io" target="_blank">Github</a></span> <span><a href="https://de.wikipedia.org/wiki/Benutzer:Manuel_Bieling" target="_blank">Wikipedia</a></span> <span><a href="/blog/links">Links</a></span> <span><a href="/atom.xml">Feed</a></span> <span><a href="/blog/tags">Tags</a></span> <span><a href="/blog/archives">Archive</a></span> <span><a href="/blog/about">About</a></span> </nav> <div class="blog-index"> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/03/20/kurz-mal-etwas-anderes/">Themenwechsel</a></h1> <p> <time class='entry-date' datetime='2021-03-20T12:36:06+01:00'><span class='date'>Mar, 2021-03-20 | </span> <span class='time'>Sat, 12:36 </span></time> </p> </header> <section><p>Ich habe ja schon <a href="https://manuel-io.github.io/blog/2021/01/17/fortschritt-slash-ausblick-20-slash-21/">geschrieben</a>, dass die Kitchen App auch mal erneuert werden kann und da meine Projekte hier auch immer etwas Experimentelles haben, was mit dem neuesten Javascript und CSS Gedöns so möglich ist, soll es auf jeden Fall spielerischer und interaktiver werden. Dafür bastle ich schon an neuen Elementen. Wie zum Beispiel hier:</p> <iframe id="iframe3242" src="/data/vkitchen/overview.html" style="width:100%;height:520px" frameborder="0"> </iframe> <script>
  let iframe = document.getElementById('iframe3242');
  if (iframe.offsetWidth < 500) iframe.style.height = '340px';
  else iframe.style.height = '520px';
</script> <pre><code>let images =  document.querySelectorAll('main &gt; div &gt; section &gt; img');
let list = new Array();

images.forEach((image) =&gt; {
  let promise = new Promise((resolve, reject) =&gt; {
    image.onload = (e) =&gt; resolve('okay');
    image.src = image.dataset.src;
  });

  list.push(promise);
});

Promise.all(list).then((values) =&gt; {
  ...
});
</code></pre> </section> <div style='clear:both;'></div> </article> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/01/30/fortsetzung/">Fortsetzung (I)</a></h1> <p> <time class='entry-date' datetime='2021-01-30T05:18:11+01:00'><span class='date'>Jan, 2021-01-30 | </span> <span class='time'>Sat, 05:18 </span></time> </p> </header> <section><p>Im letzten Beispiel habe ich mal dargestellt wie eine zweidimensionale Datenstruktur im Speicher abgebildet werden kann und dazu die Programmiersprache C benutzt. Jetzt könnte es Einwende geben z.B. „Ich habe ein Programmierbuch gelesen und darin wird von Arrays mit eckigen Klammern geredet, dass macht die Sache doch viel anschaulicher“. Dass ist hier im Beispiel natürlich auch möglich. Ein Datenpaket im Speicher würde dann mit <code>tiles[y][x]</code> angesprochen werden können. Das kostet aber 96 Bytes mehr.</p> <img class="center" src="/data/images/mem2d.png" title="Memory Map 2D Array" alt="Memory Map 2D Array"> <pre><code>struct tile **tiles = NULL;
uint8_t width = 12, height = 12;
struct tile *base = NULL;
</code></pre> <p>Im letzten Beispiel haben wir für 12 Reihen und 12 Spalten mit einer Nutzlast von 2 Bytes insgesamt 288 Bytes alloziert. Jetzt wollen wir jede Reihe einzeln ansprechen <code>tiles[y]</code> und dafür muss die Speicheradresse von jeder Reihe nochmal gespeichert werden. Auf einem 64 Bit Computer besteht eine Speicheradresse gewöhnlich aus 8 Bytes und da es 12 Reihen sind ergibt sich ein Wert von 96:</p> <pre><code>tiles = (struct tile **)malloc((width * height * sizeof(struct tile)) + (height * sizeof(struct tile *)));
</code></pre> <p>Den von <code>malloc</code> erhaltenen Speicher teilen wir anschließend auf. Im unteren Bereich (Lower) speichern wir für jede Reihe mit y ∈ {0, 1, 2, …, 11} die Speicheradresse.</p> <p>Im oberen Bereich (Upper) wird wie im letzten Beispiel die zweidimensionale Datenstruktur abgebildet. Hier muss nur bedacht werden, dass nicht direkt die offset Adresse von <code>malloc</code> verwendet werden kann. Damit wir im oberen Speicherbereich landen müssen hier noch 96 Bytes dazu addiert werden (Data base):</p> <pre><code>/*
When writing in pointer arithmetic (tiles + height), is actually:
(tiles + height * sizeof(struct tile *))
*/
base = (struct tile *)(tiles + height);
</code></pre> <p>Im Weiteren wird dann noch eine zusätzliche Initialisierung gebraucht. Der ersten Adresse im Speicher (Offset address) muss z.B. als Wert die Adresse (0x55947d9e7300) der ersten Reihe im Speicher zugewiesen werden und so dann auch für die Reihen 2, 3, 4 usw:</p> <pre><code>for (uint8_t y = 0; y &lt; height; y++) {
  /*
  Pointer Arithmetic: (tiles + y) is equal to (tiles + (y * sizeof(struct tile *)))
  and (base + (width * y) to (base + (y * width * sizeof(struct tile)))
  */
  *(tiles + y) = (struct tile *)(base + (width * y));
  printf("0x%lx\n", (uintptr_t)(tiles + y));
}
</code></pre> <p>Das war&rsquo;s. Jetzt können wir wie zuvor vorgehen und das zweidimensionale Array verwenden:</p> <pre><code>/* Initialization II */
for (uint8_t y = 0; y &lt; height; y++) {
  for (uint8_t x = 0; x &lt; width; x++) {
    tiles[y][x].id = y * height + x;
    tiles[y][x].type = 0;
  }
}
</code></pre> <p>Für weitere technische Erklärungen verweise ich auf den <a href="https://gist.github.com/manuel-io/bbc5e7b0e899a5c13672b1e3d72bb0d0#file-mem2d-c">Quelltext</a> des Beispiels.</p> </section> <div style='clear:both;'></div> </article> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/01/23/a-2-dimensional-data-structure/">A two dimensional data structure</a></h1> <p> <time class='entry-date' datetime='2021-01-23T14:38:11+01:00'><span class='date'>Jan, 2021-01-23 | </span> <span class='time'>Sat, 14:38 </span></time> </p> </header> <section><p>How does a 2 dimensional data structure look like in different programming languages. Using the C-Language you have to allocate the required memory by youself.</p> <pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdint.h&gt;
</code></pre> <p>Think of a map with x and y but keep in mind that the memory of a computer is still a one-dimensional linear thing. In addition each point of the map (x,y) requires some memory for the payload.</p> <pre><code>/* Payload */
struct tile {
  uint8_t id;
  uint8_t type;
};

int
main(int argc, char **argv) {
</code></pre> <p>In this example we use a map with an equal size of width and height.</p> <pre><code>  struct tile *tiles = NULL;
  uint8_t width = 12, height = 12;
</code></pre> <p>Thus the total line memory is <code>sizeof(payload) * width * height</code>. Next each point can be accessed with <code>offset + (y * width) + x</code>. Where offset is the return value of the POSIX C function <code>malloc</code>. Modern computers have a memory management unit, which is operated and controlled by the operating system. In this case malloc returns the start address of the granted memory area.</p> <pre><code>  tiles = (struct tile *)malloc(sizeof(struct tile) * width * height);

  if (tiles == NULL) {
    printf("Memory allocation failed\n");
    return 1;
  }
</code></pre> <p>We initialize the allocated memory area with our example payload. Thanks to pointer arithmetic we no longer have to care about the size of the payload.</p> <pre><code>  /* Initialization */
  for (uint8_t y = 0; y &lt; height; y++) {
    for (uint8_t x = 0; x &lt; width; x++) {
      /* Pointer Arithmetic: (tiles + (y * width * sizeof(struct tile)) + (x * sizeof(struct tile))) */
      (tiles + (y * width) + x)-&gt;id = y * width + x;
      (tiles + (y * width) + x)-&gt;type = 0;
    }
  }

  /* Print */
  for (uint8_t y = 0; y &lt; height; y++) {
    for (uint8_t x = 0; x &lt; width; x++) {
      printf("%d:\t(%d,%d)\t0x%lx\n", (tiles + (y * width) + x)-&gt;id, x, y, (uintptr_t)(tiles + (y * width) + x));
    }
  }
</code></pre> <p>The size of a tile (example payload) should be 2 Bytes and the total reserved memory area 12 * 12 * 2 = 288 Bytes. The offset address can&rsquo;t be predicted at this point. Note: Due to unpredictable compiler optimizations, deviations may occur. See <a href="https://gist.github.com/manuel-io/bbc5e7b0e899a5c13672b1e3d72bb0d0">https://gist.github.com/manuel-io/bbc5e7b0e899a5c13672b1e3d72bb0d0</a>.</p> <pre><code>  printf("\nSize of a tile: %ld bytes\n", sizeof(struct tile));
  printf("Offset address 0x%lx\n", (uintptr_t)tiles);
  printf("Reserved memory: %ld bytes\n", sizeof(struct tile) * width * height);

  free(tiles);
  return 0;
}
</code></pre> </section> <div style='clear:both;'></div> </article> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/01/17/fortschritt-slash-ausblick-20-slash-21/">Fortschritt/Ausblick 20/21</a></h1> <p> <time class='entry-date' datetime='2021-01-17T00:30:00+01:00'><span class='date'>Jan, 2021-01-17 | </span> <span class='time'>Sun, 00:30 </span></time> </p> </header> <section><img class="center" src="/data/images/way2021.jpg" title="Feldweg ins Ungewisse" alt="Feldweg ins Ungewisse"> <p>Da dachte der Mensch zuletzt noch er wäre das einzige valide Virus auf der Erde und dann kommt so ein junger Spross daher und bietet ordentlich Paroli. Während das eine Virus seine Streitkräfte Biontech, Moderna, Curevac, AstraZeneca, Johnson &amp; Johnson und wie sie alle heißen mobilisiert, antwortet der Gegner einfach mit neuen Mutationen. Das Ziel ist wie bei jedem Streit am Ende auf der Gewinnerseite zu stehen um wie zuvor normal weiter machen zu können. Und wie bei jedem andauernden Streit geht es irgendwann nicht mehr um Ursachen sondern um den Streit selbst.</p> <p>Was sonst noch im letzten Jahr war:</p> <h3>Breitband:</h3> <img class="left 300" src="/data/images/glasfaser.jpg" title="Glasfaser" alt="Glasfaser"> <p>Im letzten Jahr wurde hier auf dem Land Glasfaser verbuddelt. Die Zeit der Telefonmasten die hier noch vieler Orts zu sehen sind und bestimmt, eigentlich nur noch <a href="https://de.wikipedia.org/wiki/SIP-Telefon">SIP</a> transportieren, ist vorbei. Zu viel möchte ich noch gar nicht schreiben und erstmal viel testen, aber die Rahmendaten sind schon sehr erfreulich. Die 2 MBit/s, von denen weniger als 1 MBit/s ankamen sind jetzt für den gleichen Preis in 25 facher Geschwindigkeit zu haben. Und auch mit dem Regionalzuschlag, mit dem sich der Netzbetreiber das Ganze noch vergolden lassen hat, ist dann vorbei. Da gibt es wirklich <a href="https://wendland-net.de/post/seit-wochen-ohne-festnetz-telefon-chaos-bei-der-telekom-11520">gruselige Geschichten</a>. Zuletzt gab es noch die Hoffnung Elon Musk mit seinem <a href="https://www.starlink.com/">Internet über Satelliten</a> würde die Sache retten, aber dann kam die <a href="https://www.ngn-tele.com/">NGN Telecom</a>. → Später mehr.</p> <h3>Minicloud:</h3> <p>Da ist zunächst die Minicloud. Eine Python3-Webapp basierend auf dem Flask Framework um Dateien und Informationen zwischen verschieden Geräten auszutauschen. Darüber hinaus kann die App auch mit einem DLNA-Server verbunden werden und so Audio und Video im lokalen Netz finden und wiedergeben. Für mich ist die Applikation im lokalen Netzwerk schon sehr nützlich geworden. Die Frage ist noch wie ich die Konfigurations-Möglichkeiten und Dokumentation noch verbessern kann um die App allgemein zugänglicher zu machen. Eigentlich wollte ich schon im letzten Jahr eine Release veröffentlichen, aber dafür gibt es einfach noch zu viele Todos auf der Liste. → <a href="https://github.com/manuel-io/minicloud">https://github.com/manuel-io/minicloud</a></p> <h3>Kitchen App:</h3> <p>Ich habe irgendwann mal angefangen meine Rezepte in einer digitalen Datenbank abzuspeichern. Um neue Rezepte hinzuzufügen und auszulesen gibt es die Ruby-Applikation basierend auf dem Ruby on Rails Framework, allgemein ist das System für mich auch noch sehr hilfreich, ich habe aber aufgehört die Datenbasis zu pflegen und so wurden inzwischen viele Rezepte verändert, aber nicht auf den aktuellen Stand gebracht. Was das Rails-Framework angeht bin ich der Meinung, dass das mir inzwischen einfach zu groß geworden ist und mit zu vielen Abhängigkeiten kommt. Dass macht es nicht einfach den Programmiercode auf dem aktuellen Stand zu halten. Die Programmiersprache Ruby, Objektorientiert und mit vielen funktionalen Elementen, finde ich gar nicht so schlecht. Also hier würde es dann weitergehen wenn die Minicloud einen Release Status erreicht hat. → <a href="https://github.com/manuel-io/kitchen">https://github.com/manuel-io/kitchen</a></p> <h3>City4Sim:</h3> <img class="center" src="/data/images/sl200.jpg" title="MAN SL200" alt="MAN SL200"> <p>Eine Applikation basierend auf Javascript. Viel ist hier noch nicht passiert bis auf eine Karte in einer isometrische Projektion auf der Tiles dargestellt werden können. Hier versuche ich auch immer wieder neue Ansätze: Zuerst <a href="https://github.com/manuel-io/openCTS/tree/master">C++ und SDL2</a>, später mit <a href="https://github.com/manuel-io/openCTS/tree/canvas">Javascript und Canvas</a> und dann mit Haskell und SDL2. Ich würde gerne viel mehr mit Haskell machen, aber merke dann, dass meine Denkweise noch zu viel in die Richtung iterativer, imperativer und prozeduraler Programmierung geht. Später mehr. → <a href="https://city4sim.zahlenpresse.de/">https://city4sim.zahlenpresse.de/</a></p> </section> <div style='clear:both;'></div> </article> <div id="pagination"> <table><tr> <td class='next'><a class="next" href="/blog/posts/2">Older</a></td> <td class='arch'><a class='arch' href="/blog/archives">Archives</a></td> <td class='prev'></td> </tr></table> </div> </div> <footer><section class='posts'> <ul> <li><a href="/blog/2021/03/20/kurz-mal-etwas-anderes/">1. Themenwechsel</a></li> <li><a href="/blog/2021/01/30/fortsetzung/">2. Fortsetzung (I)</a></li> <li><a href="/blog/2021/01/23/a-2-dimensional-data-structure/">3. A two dimensional data structure</a></li> <li><a href="/blog/2021/01/17/fortschritt-slash-ausblick-20-slash-21/">4. Fortschritt/Ausblick 20/21</a></li> <li><a href="/blog/2020/09/13/zahnradgetriebe/">5. Zahnradgetriebe</a></li> </ul> </section> <section class='copyright'> <p> Copyright &copy; 2010-2021 | Manuel | <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> </p> </section> </footer> </body> </html>