<!DOCTYPE html> <!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]--> <!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]--> <!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html manifest="cache.manifest" class="no-js" lang="en"><!--<![endif]--> <head> <meta charset="utf-8"> <title>A personal Blog</title> <meta name="author" content="Manuel"> <meta name="keywords" content="blog, personal, coding, foot, math, physics, life"> <meta name="description" content="This is a personal Blog about my life"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="apple-touch-icon" href="/style/touch-icon.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/style/touch-icon.png"> <link rel="canonical" href="https://manuel-io.github.io"> <link rel="shortcut icon" type="image/png" href="/favicon.png"> <link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"> <link href="/atom.xml" rel="alternate" title="A personal Blog" type="application/atom+xml"> <script src="/javascripts/libs/jquery-1.11.2.min.js" type="text/javascript"></script> <script src="/javascripts/blog.js" type="text/javascript"></script> <script type="text/javascript" src="/javascripts/mathjax/unpacked/MathJax.js?config=TeX-AMS_HTML"></script> <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "jax": ["input/TeX", "output/HTML-CSS"],
    styles: { ".MathJax_Display": { "text-align": "left" } },
    "tex2jax": {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: { autoNumber: "AMS" },
      TagSide: "left"
    },
    "HTML-CSS": {
      availableFonts: ["TeX"],
      linebreaks: { automatic: true }
    }
  });
</script> </head> <body> <header class='site'><h1> <a href="/"> <p>A</p> <p> </p> <p>p</p> <p>e</p> <p>r</p> <p>s</p> <p>o</p> <p>n</p> <p>a</p> <p>l</p> <p> </p> <p>B</p> <p>l</p> <p>o</p> <p>g</p> </a> </h1> </header> <div style='clear:both;'></div> <nav><span><a href="/">Blog</a></span> <span><a href="/blog/photography">Photography</a></span> <span><a href="http://vkitchen.herokuapp.com" target="_blank">Kitchen</a></span> <span><a href="https://minicloud.zahlenpresse.de" target="_blank">Minicloud</a></span> <span><a href="https://github.com/manuel-io" target="_blank">Github</a></span> <span><a href="https://de.wikipedia.org/wiki/Benutzer:Manuel_Bieling" target="_blank">Wikipedia</a></span> <span><a href="/blog/links">Links</a></span> <span><a href="/atom.xml">Feed</a></span> <span><a href="/blog/tags">Tags</a></span> <span><a href="/blog/archives">Archive</a></span> <span><a href="/blog/about">About</a></span> </nav> <div class="blog-index"> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/06/13/kollisionserkennung/">Kollisionserkennung</a></h1> <p> <time class='entry-date' datetime='2021-06-13T07:25:45+02:00'><span class='date'>Jun, 2021-06-13 | </span> <span class='time'>Sun, 07:25 </span></time> </p> </header> <section><p>Kleine Fingerübung im Sachen Kollisionserkennung. Es gibt im Internet auch noch andere <a href="https://rosettacode.org/wiki/Ray-casting_algorithm#Haskell">Beispiele</a>.</p> <div style="display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;"> <div style="flex-shrink:0;flex-grow:0;width:233px;"><img style="width:100%;" src="/data/images/rectangle.gif" title="Rectangle"></div> <div style="flex-shrink:0;flex-grow:0;width:233px;"><img style="width:100%;" src="/data/images/circle.gif" title="Circle"></div> <div style="flex-shrink:0;flex-grow:0;width:233px;"><img style="width:100%;" src="/data/images/polygon.gif" title="Polygon"></div> </div> <p>&hellip;</p> <pre><code>data Point = Point Float Float deriving (Show, Eq)
data Shape = Circle Point Float
           | Rectangle Point Point
           | Polygon [Point] deriving (Show, Eq)
</code></pre> <p>&hellip;</p> <pre><code>intersects :: Point -&gt; Shape -&gt; Bool
intersects (Point u v) (Rectangle (Point x1 y1) (Point x2 y2))
  | ((u &gt;= x1) &amp;&amp; (u &lt;= x2) &amp;&amp; (v &gt;= y1) &amp;&amp; (v &lt;= y2)) = True
  | otherwise = False
intersects (Point u v) (Circle (Point x y) radius)
  | ((u - x) ^ 2 + (v - y) ^ 2) &lt;= radius ^ 2 = True
  | otherwise = False
-- Ray casting algorithm
intersects (Point u v) (Polygon polygon)
  | (Point u v) `intersects` bounds = (odd . fst) (raycasting 0 (offset bounds) (Point u v) (Polygon polygon))
  | otherwise = False
  where
    offset (Rectangle (Point x1 _) (Point _ _)) = x1
    bounds = boundary (Polygon polygon)
    raycasting :: Int -&gt; Float -&gt; Point -&gt; Shape -&gt; (Int, Shape)
    raycasting acc o (Point u v) (Polygon (point:[])) = (acc, (Polygon (point:[])))
    raycasting acc o (Point u v) (Polygon ((Point x1 y1):(Point x2 y2):polygon))
      | (t &gt;= 0) &amp;&amp; (t &lt;= 1) &amp;&amp; (s &gt;= 0) &amp;&amp; (s &lt;= 1) = raycasting (acc + 1) o (Point u v) (Polygon ((Point x2 y2):polygon))
      | otherwise = raycasting (acc + 0) o (Point u v) (Polygon ((Point x2 y2):polygon))
      where
        t = (v - y1) / (y2 - y1)
        s = ((x1 - o) / (u - o)) + (t / (u - o)) * (x2 - x1)
</code></pre> <p><a href="https://git.io/JZ59q">Gist</a></p> </section> <div style='clear:both;'></div> </article> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/06/09/sausages/">Sausages</a></h1> <p> <time class='entry-date' datetime='2021-06-09T00:13:00+02:00'><span class='date'>Jun, 2021-06-09 | </span> <span class='time'>Wed, 00:13 </span></time> </p> </header> <section><img class="left 320" src="/data/images/sausages.jpg" title="Beyond Sausages" alt="Beyond Sausages"> <p>Neulich habe ich bei den Öffentlichen den Artikel „Wer am Veggie-Boom verdient“ <a href="https://www.tagesschau.de/wirtschaft/unternehmen/vegetarische-lebenmittel-markt-boom-101.html">gefunden</a> und ich erlaube mit das Zitat: „Der Markt für vegetarisches und veganes Essen wächst rasant - wahrscheinlich noch viele Jahre lang.“ - Was für ein Satz. Man möchte den Autor gar bemitleiden, dass das Ende von dem sog. „Veggie-Boom“ sich doch noch in die Länge zieht.</p> <p>Aber es offenbart leider auch die Denkweise dieses Autors, die so einen naiven Satz zulässt („OK Boomer“). Es ist ein bissen so wie vor über 30 Jahre, nach Vernetzung der Computer, das Neuland zu entdecken.</p> <p>Die gute Nachricht ist vielleicht, dass der Beruf des „Metzgers“ doch noch eine Zukunft hat und mit etwas Umschulung können bereits Gelernte ihre pflanzliche Gewürzmischung (Muskat, Salz, Piment, im Artikel leider keine Details) auch auf pflanzliches Protein anwenden.</p> <p>Wie viele pflanzliche Produkte es inzwischen gibt, ist enorm. Ich habe mir mal überlegt wie würde so ein gewöhnlicher Supermarkt aussehen, wenn alle Lebensmittel die etwas mit tierischen Produkten zu tun haben entfernt werde würden, jetzt ist mehr die Überlegung was wäre wenn neben jedem Produkt mit tierischen Zutaten eine pflanzliche Alternative stehen würde. Und ich behaupte mal von der Produktauswahl wäre das möglich.</p> <p>Die Supermärkte hätten gar nicht den Platz. Meine Prognose wäre in dem Fall es wird einfach Supermärkte geben die mehr auf pflanzliche Alternativen setzen und in dem Sinne dann auch legacy Märkte.</p> <p>Jetzt habe ich gehört, dass es für eine Aktion in Köln eine <a href="https://youtu.be/qRxPBuYnqHM">Burger King Filiale</a> für ein paar Tage auf komplett „fleischlos“ umgestellt wurde. Neben den positiven Effekt Leute einfach mal mit etwas Neuem zu konfrontieren, ist dass natürlich auch eine Demonstration was so machbar ist.</p> <p>Leider wird das Ganze als Plant Based* („reclaim your wording back“) bezeichnet obwohl es trotzdem auch Produkte mit tierischen Inhaltsstoffen gibt. Schade, da wurde leider vergessen ein μ weiter zu denken. Es soll sogar eine vegane Mayo geben. Vielleicht sogar „The Seriously Good Vegan Mayo“ von Heinz (wieder keine Details).</p> <p>Auch bei mir sind „mal wieder“ ein paar Produkte aus der Kategorie „beyond meat“ angekommen. Und nach dem Motto „good vibes only“ verweise ich hier nur auf die Schemeckenden. Wobei ich dazu auch sagen muss, dass ich zuletzt positiv auf den <a href="https://www.ruegenwalder.de/produkte/vegane-muehlen-burger-typ-rind">Vegane Mühlen Burger</a> <a href="blog/2019/06/18/burger-time/">verwiesen habe</a> und der einfach nicht mehr zu bekommen ist.</p> <p>&#x2a; Die Überseztung von „Plant Based“ mit &ldquo;wir packen da mal als Basis ein bisschen Pflanze rein&rdquo; halte ich einfach für falsch. Etwa so als wenn man „May not“ mit „Muss nicht/Braucht nicht“ übersetzen würde. Man&hellip; man&hellip; man, gut das wir hier nicht über <a href="https://de.wikipedia.org/wiki/Milchersatz#Bezeichnung">Pflanzenmilch</a> reden.</p> </section> <div style='clear:both;'></div> </article> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/03/20/kurz-mal-etwas-anderes/">Themenwechsel</a></h1> <p> <time class='entry-date' datetime='2021-03-20T12:36:06+01:00'><span class='date'>Mar, 2021-03-20 | </span> <span class='time'>Sat, 12:36 </span></time> </p> </header> <section><p>Ich habe ja schon <a href="https://manuel-io.github.io/blog/2021/01/17/fortschritt-slash-ausblick-20-slash-21/">geschrieben</a>, dass die Kitchen App auch mal erneuert werden kann und da meine Projekte hier auch immer etwas Experimentelles haben, was mit dem neuesten Javascript und CSS Gedöns so möglich ist, soll es auf jeden Fall spielerischer und interaktiver werden. Dafür bastle ich schon an neuen Elementen. Wie zum Beispiel hier:</p> <iframe id="iframe3242" src="/data/vkitchen/overview.html" style="width:100%;height:520px" frameborder="0"> </iframe> <script>
  let iframe = document.getElementById('iframe3242');
  if (iframe.offsetWidth < 500) iframe.style.height = '340px';
  else iframe.style.height = '520px';
</script> <pre><code>let images =  document.querySelectorAll('img');

let list = Array.from(images).map((image) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    image.onload = (e) =&gt; resolve('okay');
    image.src = image.dataset.src;
  });
});

Promise.all(list).then((values) =&gt; {
  ...
});
</code></pre> </section> <div style='clear:both;'></div> </article> <article> <header class='post'> <h1 class="entry-title"><a href="/blog/2021/01/30/fortsetzung/">Fortsetzung (I)</a></h1> <p> <time class='entry-date' datetime='2021-01-30T05:18:11+01:00'><span class='date'>Jan, 2021-01-30 | </span> <span class='time'>Sat, 05:18 </span></time> </p> </header> <section><p>Im letzten Beispiel habe ich mal dargestellt wie eine zweidimensionale Datenstruktur im Speicher abgebildet werden kann und dazu die Programmiersprache C benutzt. Jetzt könnte es Einwende geben z.B. „Ich habe ein Programmierbuch gelesen und darin wird von Arrays mit eckigen Klammern geredet, dass macht die Sache doch viel anschaulicher“. Dass ist hier im Beispiel natürlich auch möglich. Ein Datenpaket im Speicher würde dann mit <code>tiles[y][x]</code> angesprochen werden können. Das kostet aber 96 Bytes mehr.</p> <img class="center" src="/data/images/mem2d.png" title="Memory Map 2D Array" alt="Memory Map 2D Array"> <pre><code>struct tile **tiles = NULL;
uint8_t width = 12, height = 12;
struct tile *base = NULL;
</code></pre> <p>Im letzten Beispiel haben wir für 12 Reihen und 12 Spalten mit einer Nutzlast von 2 Bytes insgesamt 288 Bytes alloziert. Jetzt wollen wir jede Reihe einzeln ansprechen <code>tiles[y]</code> und dafür muss die Speicheradresse von jeder Reihe nochmal gespeichert werden. Auf einem 64 Bit Computer besteht eine Speicheradresse gewöhnlich aus 8 Bytes und da es 12 Reihen sind ergibt sich ein Wert von 96:</p> <pre><code>tiles = (struct tile **)malloc((width * height * sizeof(struct tile)) + (height * sizeof(struct tile *)));
</code></pre> <p>Den von <code>malloc</code> erhaltenen Speicher teilen wir anschließend auf. Im unteren Bereich (Lower) speichern wir für jede Reihe mit y ∈ {0, 1, 2, …, 11} die Speicheradresse.</p> <p>Im oberen Bereich (Upper) wird wie im letzten Beispiel die zweidimensionale Datenstruktur abgebildet. Hier muss nur bedacht werden, dass nicht direkt die offset Adresse von <code>malloc</code> verwendet werden kann. Damit wir im oberen Speicherbereich landen müssen hier noch 96 Bytes dazu addiert werden (Data base):</p> <pre><code>/*
When writing in pointer arithmetic (tiles + height), is actually:
(tiles + height * sizeof(struct tile *))
*/
base = (struct tile *)(tiles + height);
</code></pre> <p>Im Weiteren wird dann noch eine zusätzliche Initialisierung gebraucht. Der ersten Adresse im Speicher (Offset address) muss z.B. als Wert die Adresse (0x55947d9e7300) der ersten Reihe im Speicher zugewiesen werden und so dann auch für die Reihen 2, 3, 4 usw:</p> <pre><code>for (uint8_t y = 0; y &lt; height; y++) {
  /*
  Pointer Arithmetic: (tiles + y) is equal to (tiles + (y * sizeof(struct tile *)))
  and (base + (width * y) to (base + (y * width * sizeof(struct tile)))
  */
  *(tiles + y) = (struct tile *)(base + (width * y));
  printf("0x%lx\n", (uintptr_t)(tiles + y));
}
</code></pre> <p>Das war&rsquo;s. Jetzt können wir wie zuvor vorgehen und das zweidimensionale Array verwenden:</p> <pre><code>/* Initialization II */
for (uint8_t y = 0; y &lt; height; y++) {
  for (uint8_t x = 0; x &lt; width; x++) {
    tiles[y][x].id = y * width + x;
    tiles[y][x].type = 0;
  }
}
</code></pre> <p>Für weitere technische Erklärungen verweise ich auf den <a href="https://gist.github.com/manuel-io/bbc5e7b0e899a5c13672b1e3d72bb0d0#file-mem2d-c">Quelltext</a> des Beispiels.</p> </section> <div style='clear:both;'></div> </article> <div id="pagination"> <table><tr> <td class='next'><a class="next" href="/blog/posts/2">Older</a></td> <td class='arch'><a class='arch' href="/blog/archives">Archives</a></td> <td class='prev'></td> </tr></table> </div> </div> <footer><section class='posts'> <ul> <li><a href="/blog/2021/06/13/kollisionserkennung/">1. Kollisionserkennung</a></li> <li><a href="/blog/2021/06/09/sausages/">2. Sausages</a></li> <li><a href="/blog/2021/03/20/kurz-mal-etwas-anderes/">3. Themenwechsel</a></li> <li><a href="/blog/2021/01/30/fortsetzung/">4. Fortsetzung (I)</a></li> <li><a href="/blog/2021/01/23/a-2-dimensional-data-structure/">5. A two dimensional data structure</a></li> </ul> </section> <section class='copyright'> <p> Copyright &copy; 2010-2021 | Manuel | <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> </p> </section> </footer> </body> </html>