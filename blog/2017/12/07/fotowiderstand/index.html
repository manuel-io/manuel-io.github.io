<!DOCTYPE html> <!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]--> <!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]--> <!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html manifest="cache.manifest" class="no-js" lang="en"><!--<![endif]--> <head> <meta charset="utf-8"> <title>Fotowiderstand - A personal Blog</title> <meta name="author" content="Manuel"> <meta name="keywords" content="2017, mathematics, equation, electronics, atmega"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="apple-touch-icon" href="/style/touch-icon.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/style/touch-icon.png"> <link rel="canonical" href="https://manuel-io.github.io/blog/2017/12/07/fotowiderstand"> <link rel="shortcut icon" type="image/png" href="/favicon.png"> <link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"> <link href="/atom.xml" rel="alternate" title="A personal Blog" type="application/atom+xml"> <script src="/javascripts/libs/jquery-1.11.2.min.js" type="text/javascript"></script> <script src="/javascripts/blog.js" type="text/javascript"></script> <script type="text/javascript" src="/javascripts/mathjax/unpacked/MathJax.js?config=TeX-AMS_HTML"></script> <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "jax": ["input/TeX", "output/HTML-CSS"],
    styles: { ".MathJax_Display": { "text-align": "left" } },
    "tex2jax": {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: { autoNumber: "AMS" },
      TagSide: "left"
    },
    "HTML-CSS": {
      availableFonts: ["TeX"],
      linebreaks: { automatic: true }
    }
  });
</script> </head> <body> <header class='site'><h1> <a href="/"> <p>A</p> <p> </p> <p>p</p> <p>e</p> <p>r</p> <p>s</p> <p>o</p> <p>n</p> <p>a</p> <p>l</p> <p> </p> <p>B</p> <p>l</p> <p>o</p> <p>g</p> </a> </h1> </header> <div style='clear:both;'></div> <nav><span><a href="/">Blog</a></span> <span><a href="/blog/photography">Photography</a></span> <span><a href="http://vkitchen.herokuapp.com" target="_blank">Kitchen</a></span> <span><a href="https://github.com/manuel-io" target="_blank">Github</a></span> <span><a href="https://de.wikipedia.org/wiki/Benutzer:Manuel_Bieling" target="_blank">Wikipedia</a></span> <span><a href="/blog/links">Links</a></span> <span><a href="/atom.xml">Feed</a></span> <span><a href="/blog/tags">Tags</a></span> <span><a href="/blog/archives">Archive</a></span> <span><a href="/blog/about">About</a></span> </nav> <article> <header class='post'> <h1 class="entry-title">Fotowiderstand</h1> <p> <time class='entry-date' datetime='2017-12-07T22:16:06+01:00'><span class='date'>Dec, 2017-12-07 | </span> <span class='time'>Thu, 22:16 </span></time> </p> </header> <section><img class="left" src="/data/images/ldr.png" width="200" title="Light Dependent Resistor" alt="Light Dependent Resistor"> <p>Ich stehe vor der Herausforderung, dass ich einen Mikrocontroller (<a href="http://www.atmel.com/Images/Atmel-2486-8-bit-AVR-microcontroller-ATmega8_L_datasheet.pdf">Atmega8</a>) über die umgebenen Lichtverhältnisse informieren möchte und dafür auch schon einen licht-abhängigen Widerstand habe (<a href="https://cdn-reichelt.de/documents/datenblatt/A500/A90xxxx%23PE.pdf">A 906011</a>). Dieser Widerstand ändert seinen Wert in Abhängekit des Umgebungslichtes. Dabei bedeutet viel Licht einen kleinen Widerstandswert und umgekehrt wenig Licht oder gar Dunkelheit einen großen Widerstand. Die genauen Werte ergeben sich aus dem Datenblatt.</p> <p>Jetzt geht es um den Anschluss am Mikrocontroller. Dieser verfügt über einen Analog-Digital-Wandler und kann in Abhängigkeit einer Referenzspannung analoge Spannungswerte auf einen 10 bit großen nummerischen Wert abbilden (10 bit bedeutet 2<sup>10</sup> = 1024. Also ein Zahlenbereich von 0 bis 1023).</p> <p>Damit an dem licht-abhängigen Widerstand eine Spannung abfällt, muss dieser in einfacher Weise zu einem Spannungsteiler verschaltet werde (siehe Abbildung).</p> <p>Formal stellt lässt sich die Situation durch zwei Formeln beschreiben. Die Maschenregel und das Ohmsche Gesetz:</p> <p>$ U = \oint_G E\, ds = 0 $ oder $ U – U_1 – U_2 = 0 $ oder $ U = U_1 + U_2 $</p> <figure class='equation'>\begin{equation}\label{eq:ohm} U = R_1 \cdot I + R_2 \cdot I \Leftrightarrow U = (R_1 + R_2) \cdot I \Leftrightarrow I = \frac{U}{R_1 + R_2}\end{equation}</figure> <p>$ U_2 $ ist hier die Spannung am licht-abhängigen Widerstand:</p> <p>$ U_2 = R_2 \cdot I \quad\hbox{mit}\quad I = \frac{U}{R_1 + R_2} \quad\hbox{aus (\ref{eq:ohm})} $</p> <figure class='equation'>\begin{equation}\label{eq:ldr} U_2 = U \cdot \frac{R_2}{R_2 + R_1}\end{equation}</figure> <p>Damit ist die Spannung am licht-abhängigen Widerstand gegeben. Wie schon in der Einleitung beschrieben ändert dieser Widerstand seinen Wert $ R_2 $ in Abhängigkeit des Umgebungslichtes. Dabei nimmt der Wert zwei Extrema an:</p> <p>$ R_i $ bei besonders viel Licht und $ R_x $ bei besonders wenig Licht.</p> <p>Ziel ist jetzt den Widerstand $ R_1 $ so zu dimensionieren, dass am licht-abhängigen Widerstand ein möglichst großes Spannungsspektrum abfällt. Dazu werden die Werte für $ R_i \hbox{ und } R_x \hbox{ für } R_2 \hbox{ in (\ref{eq:ldr})} $ eingesetzt und die Differenzspannung weiter diskutiert.</p> <figure class='equation'>\begin{equation}\Delta U(R_1) = U \cdot \frac{R_x}{R_x + R_1} – U \cdot \frac{R_i}{R_i + R_1}\end{equation}</figure> <p>Jetzt wird die erste Ableitung gebildet und gleich Null gesetzt, um die maximale Differenzspannung ermitteln zu können:</p> <figure class='equation'>\begin{equation}\frac{d\Delta U(R_1)}{dR_1} = U \cdot \frac{R_i}{(R_i + R_1)^2} - \frac{R_x}{(R_x + R_1)^2}\end{equation}</figure> <p>Weiter wird die Ableitung gleich Null gesetzt: $ \frac{d\Delta U(R_1)}{dR_1} \overset{!}{=} 0 $. Da ein Produkt immer Null ist, wenn einer der Faktoren Null ist und die Spannung $ U $ per Definition größer als Null ist, wird $ U $ hier nicht mehr gebraucht:</p> <figure class='equation'>\begin{equation}R_i \cdot (R_x + R_1)^2 = R_x \cdot (R_i + R_1)^2\end{equation}</figure> <p>Ausmultiplizieren und $ R_1 $ ausklammern gibt weiter:</p> <figure class='equation'>\begin{equation}R_1^2 = \frac{R_i \cdot R_x^2 - R_x \cdot R_i^2}{R_x - R_i}\end{equation}</figure> <p>Und da $ R_x > R_i > 0 $ angenommen wird, steht unter der Wurzel immer etwas positives. Und auch das Ergebnis der Wurzel ist nur positiv sinnvoll:</p> <figure class='equation'>\begin{equation}R_1 = \sqrt{R_x \cdot \frac{R_i \cdot R_x - R_i^2}{R_x – R_i}}\end{equation}</figure> <p>Für meinen Fall beträgt der Widerstand bei maximalen Lichteinfall $ 3,5k\Omega $ und bei Dunkelheit $ 180k\Omega $. Damit ist für $ R_1 = 25k\Omega $ gegeben. Die Differenzspannung beträgt $ \Delta U = 3,78 V $, die minimale Spannung beträgt $ U_i = 0,61 V $ und die maximale Spannung beträgt $ U_x = 4,39 V $.</p> <p>Im Analog-Digital-Wandler des Mikrocontrollers werden die analogen Werte nummerisch abgebildet:</p> <figure class='equation'>\begin{equation}ADC = \frac{U_i}{U}\cdot 1024\quad\hbox{und}\quad ADC = \frac{U_x}{U}\cdot 1024\end{equation}</figure> <p>Es ergibt sich ein Wertebereich von 125 bis 900 von viel Licht bis wenig Licht. Die Betriebsspannung von $ 5V $ für den Mikrocontroller entspricht bei mir auch der Referenzspannung des Analog-Digital-Wandlers.</p> <p>Da es bei meiner Anwendung nicht um hohe Präzision geht, kann ich den Analog-Digital-Wandlers Left-Adjusted betreiben werden und auf die unteren 2 bit verzichten.</p> </section> <div style='clear:both;'></div> <footer> <section class="meta"> <p> <span class="byline author vcard">Posted by <span class="fn">Manuel</span></span> </p> <p class='categories'> <a class='category' href='/blog/categories/2017/'>2017</a>, <a class='category' href='/blog/categories/atmega/'>atmega</a>, <a class='category' href='/blog/categories/electronics/'>electronics</a>, <a class='category' href='/blog/categories/equation/'>equation</a>, <a class='category' href='/blog/categories/mathematics/'>mathematics</a> </p> </section> <section class='pagination'> <table><tr> <th class='left'><p><a href="/blog/2017/11/14/lichtdose/" title="Previous Post: Lichtdose">&laquo; </a></p></th> <td class='left'><p><a href="/blog/2017/11/14/lichtdose/" title="Previous Post: Lichtdose">Lichtdose</a></p></td> <td class='right'><p><a href="/blog/2017/12/25/papercraft-car/" title="Next Post: Papercraft Car">Papercraft Car</a></p></td> <th class='right'><p><a href="/blog/2017/12/25/papercraft-car/" title="Next Post: Papercraft Car"> &raquo;</a></p></th> </tr></table> </section> </footer> </article> <footer><section class='posts'> <ul> <li><a href="/blog/2019/03/02/css-animation-101/">1. CSS Animation 101</a></li> <li><a href="/blog/2019/02/03/driving-batteries-in-parallel/">2. Driving Batteries in Parallel</a></li> <li><a href="/blog/2018/12/31/vegane-rezepte-2018/">3. Vegane Rezepte 2018</a></li> <li><a href="/blog/2018/12/24/zyklische-redundanzprufung/">4. Zyklische Redundanzprüfung (Theorie)</a></li> <li><a href="/blog/2018/12/09/just-my-two-cent/">5. Just my two cent</a></li> </ul> </section> <section class='copyright'> <p> Copyright &copy; 2010-2019 | Manuel | <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> </p> </section> </footer> </body> </html>