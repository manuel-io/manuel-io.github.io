<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html manifest="cache.manifest" class="no-js" lang="en"><!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title>A personal Blog</title>
  <meta name="author" content="Manuel">
  
  <meta name="keywords" content="blog, personal, coding, foot, math, physics, life">
  <meta name="description" content="This is a personal Blog about my life">
  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="apple-touch-icon" href="/style/touch-icon.png">
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/style/touch-icon.png">
  <link rel="canonical" href="https://manuel-io.github.io/blog/posts/16">
  <link rel="shortcut icon" type="image/png" href="/favicon.png"> 
  <link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="A personal Blog" type="application/atom+xml">
  <script src="/javascripts/libs/jquery-1.11.2.min.js" type="text/javascript"></script>
  <script src="/javascripts/blog.js" type="text/javascript"></script>
  <script type="text/javascript" src="/javascripts/mathjax/unpacked/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "jax": ["input/TeX", "output/HTML-CSS"],
    styles: { ".MathJax_Display": { "text-align": "left" } },
    "tex2jax": {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: { autoNumber: "AMS" },
      TagSide: "left"
    },
    "HTML-CSS": {
      availableFonts: ["TeX"],
      linebreaks: { automatic: true }
    }
  });
</script>

</head>

<body >
  <header class='site'><h1>
  <a href="/">
    
    
    <p>A</p>
    
    <p> </p>
    
    <p>p</p>
    
    <p>e</p>
    
    <p>r</p>
    
    <p>s</p>
    
    <p>o</p>
    
    <p>n</p>
    
    <p>a</p>
    
    <p>l</p>
    
    <p> </p>
    
    <p>B</p>
    
    <p>l</p>
    
    <p>o</p>
    
    <p>g</p>
    
  </a>
</h1>
</header>
  <div style='clear:both;'></div>
  <nav><span><a href="/">Blog</a></span>
<span><a href="/blog/photography">Photography</a></span>
<span><a href="http://vkitchen.herokuapp.com" target="_blank">Kitchen</a></span>
<span><a href="https://minicloud.zahlenpresse.de" target="_blank">Minicloud</a></span>
<span><a href="https://github.com/manuel-io" target="_blank">Github</a></span>
<span><a href="https://de.wikipedia.org/wiki/Benutzer:Manuel_Bieling" target="_blank">Wikipedia</a></span>

<span><a href="/blog/links">Links</a></span>
<span><a href="/atom.xml">Feed</a></span>
<span><a href="/blog/tags">Tags</a></span>
<span><a href="/blog/archives">Archive</a></span>
<span><a href="/blog/about">About</a></span>
</nav>
  <div class="blog-index">
  
  
  
    <article>
      
  <header class='post'>
    
      <h1 class="entry-title"><a href="/blog/2015/12/01/asia-bratnudeln/">Asia Bratnudeln</a></h1>
    
    
      <p>
        




<time class='entry-date' datetime='2015-12-01T00:18:14+01:00'><span class='date'>Dec, 2015-12-01 | </span> <span class='time'>Tue, 00:18 </span></time>
        
      </p>
    
  </header>


  <section><p>Bratnudeln sind natürlich keine Zauberei, aber weil es mit der
Mengenabschätzung so eine Sache ist und Bratnudeln zu meim
Lieblingsgericht gehören, will ich hier mal etwas dokumentieren.</p>

<img class="right" src="/data/images/noodles.jpg" width="200" title="Fried Noodles" alt="Fried Noodles">


<p>Hier die Grundzutaten für 3-4 Personen:</p>

<pre><code>250g Quick Cooking Noodles
175g Bambussproßen
 90g Mungobohnen
4 EL Rapsöl
4 EL Sojasauce
   5 Champignons
   1 Karotte
   1 Paprika
     Cayennepfeffer
</code></pre>

<p>Die Nudeln nach Anleitung kochen<sup>1</sup>. In der Zwischenzeit das Gemüse,
wenn nötig waschen und in kleine Stücke schneiden. Den Wok mit Rapsöl
erhitzen und zunächst die fein geriebenen Karotten andünsten. Nach und
nach die Champignons und Paprika dazu gegeben und alles scharf
anbraten. Den Herd auf kleine Stufe stellen, die Bambussproßen und
Mungobohnen nach belieben dazu geben. Dann auch die abgetropften
Nudeln dazugeben, jetzt braten. Alles gut vermengen und mit Sojasauce sowie
Cayennepfeffer abschmacken. Den Herd abstellen und Servieren.</p>

<p>1) I.d.R. Wasser zum kochen bringen, Nudeln mit Wasser übergießen, 5min ziehen
lassen, abgießen. Evtl. mit kaltem Wasser abschrecken.</p>

<p><strong>Update:</strong> Druckbar als <a href="/data/docs/asia-bratnudeln.pdf">PDF</a></p>
</section>
  
  

<div style='clear:both;'></div>

    </article>
  
  
    <article>
      
  <header class='post'>
    
      <h1 class="entry-title"><a href="/blog/2015/11/08/haskell-time/">UTCTime, UnixTime, POSIXTime, EpochTime, ZonedTime and ClockTime</a></h1>
    
    
      <p>
        




<time class='entry-date' datetime='2015-11-08T13:00:22+01:00'><span class='date'>Nov, 2015-11-08 | </span> <span class='time'>Sun, 13:00 </span></time>
        
      </p>
    
  </header>


  <section><p>Let us discuss time formats in Haskell. There are several different
names and data types. First let me show you that every data type has
his own IO action:</p>

<pre><code>time:      getCurrentTime :: IO UTCTime
unix-time: getUnixTime    :: IO UnixTime
time       getPOSIXTime   :: IO POSIXTime
unix:      epochTime      :: IO EpochTime
time:      getZonedTime   :: IO ZonedTime
old-time:  getClockTime   :: IO ClockTime
</code></pre>

<p>I will not cover <code>ClockTime</code>, because it&rsquo;s part of a deprecated
<a href="https://hackage.haskell.org/package/old-time">package</a>. Next we will start a <code>ghci</code> session to see what is the
result of each function:</p>

<h3><a href="https://hackage.haskell.org/package/unix-time">UnixTime</a>:</h3>

<pre><code>λ: import Data.UnixTime 
λ: t &lt;- getUnixTime &gt;&gt;= return . show . utSeconds
λ: read t :: Int
   1446987464
</code></pre>

<p>You can use <code>toEpochTime</code> and <code>toClockTime</code>.</p>

<h3><a href="https://hackage.haskell.org/package/time">POSIXTime</a>:</h3>

<pre><code>λ: import Data.Time.Clock.POSIX
λ: t &lt;- getPOSIXTime &gt;&gt;= return . show . round
λ: read t :: Int
   1446987600
</code></pre>

<p>Also, <code>posixSecondsToUTCTime</code> is part of the Library.</p>

<h3><a href="https://hackage.haskell.org/package/unix">EpochTime</a>:</h3>

<pre><code>λ: import System.Posix.Time
λ: t &lt;- fmap show epochTime
λ: read t :: Int
   1446987733

λ: import Data.UnixTime 
λ: fmap fromEpochTime epochTime
   UnixTime {utSeconds = 1446988206, utMicroSeconds = 0}
</code></pre>

<h3><a href="https://hackage.haskell.org/package/time">UTCTime</a>:</h3>

<p>Last but not least let&rsquo;s take a look at the <code>time</code> package:</p>

<pre><code>λ: import Data.Time.Clock
λ: getCurrentTime &gt;&gt;= return . show

   No instance for (Show UTCTime) …
</code></pre>

<p>What is that? <code>getCurrentTime</code> has no visual representation aka can&rsquo;t
be converted to a string. No, we have to import another package:</p>

<pre><code>λ: import Data.Time.Clock
λ: import Data.Time.Format
λ: t &lt;- fmap show getCurrentTime
λ: read t :: UTCTime
   2015-11-08 13:28:23.095651 UTC
</code></pre>

<p>Well, that is a formated time string, but is it possible to have a
simple timestamp like above. Sure:</p>

<pre><code> λ: import Data.Time.Clock
 λ: import Data.Time.Format
 λ: t &lt;- getCurrentTime &gt;&gt;= return . formatTime defaultTimeLocale "%s"
 λ: read t :: Int
    1446989906
</code></pre>

<h3><a href="https://hackage.haskell.org/package/time">ZonedTime</a>:</h3>

<p>All times we&rsquo;ve got are in UTC. The main advantage of the <code>time</code> package
is it can handle timezones, too:</p>

<pre><code>λ: import Data.Time.LocalTime 
λ: import Data.Time.Format 
λ: getZonedTime &gt;&gt;= return . formatTime defaultTimeLocale "%Y-%m-%d, %H:%M %Z"
   "2015-11-08, 15:00 CET"
</code></pre>

<p>At last there is one question. How to convert a timestamp back to a
formated string:</p>

<pre><code>λ: import Data.Time.Clock
λ: import Data.Time.Clock.POSIX 
λ: import Data.Time.LocalTime 
λ: import Data.Time.Format 
λ: let s = read "1446991464" :: Int
λ: let t x = (posixSecondsToUTCTime . realToFrac) x
λ: utcToLocalZonedTime (t s) &gt;&gt;=
     return . formatTime defaultTimeLocale "%Y-%m-%d, %H:%M %Z"
   "2015-11-08, 15:04 CET"
</code></pre>
</section>
  
  

<div style='clear:both;'></div>

    </article>
  
  
    <article>
      
  <header class='post'>
    
      <h1 class="entry-title"><a href="/blog/2015/11/05/filzlinge/">Filzlinge</a></h1>
    
    
      <p>
        




<time class='entry-date' datetime='2015-11-05T13:51:20+01:00'><span class='date'>Nov, 2015-11-05 | </span> <span class='time'>Thu, 13:51 </span></time>
        
      </p>
    
  </header>


  <section><p>Schon vor ein paar Tagen habe ich die Online-Version einer neuen
Website ins Netz gestellt&ndash;die ich gestaltet habe:</p>

<pre><a href='https://filzlinge.herokuapp.com/'>https://filzlinge.herokuapp.com/</a></pre>


<p>Schon lange habe ich nichts mehr in diese Richtung gemacht und nur
mein eigenes Blog gra­phisch verändert. Nun <a href="https://filzlinge.herokuapp.com/">hier</a> ist der letzte Entwurf.</p>
</section>
  
  

<div style='clear:both;'></div>

    </article>
  
  
    <article>
      
  <header class='post'>
    
      <h1 class="entry-title"><a href="/blog/2015/09/20/dlna-slash-upnp-debugging/">DLNA/UPnP Debugging</a></h1>
    
    
      <p>
        




<time class='entry-date' datetime='2015-09-20T19:00:30+02:00'><span class='date'>Sep, 2015-09-20 | </span> <span class='time'>Sun, 19:00 </span></time>
        
      </p>
    
  </header>


  <section><p>Die Tage habe ich einen Medien-Server (<a href="http://sourceforge.net/projects/minidlna/">miniDLNA</a>) aufgesetzt.
Im Prinzip kein Problem. Nur die Firewall musste ich zusätzlich konfigurieren.
Tcpdump und dieser <a href="http://www.upnp-hacks.org/upnp.html">Artikel</a> waren dabei hilfreich. Etwa:</p>

<pre><code>sudo tcpdump -i wlan0 udp port 1900 -vv -X
</code></pre>

<h3>Topografie</h3>

<p>Server und Player befinden sich in einem Netzwerk <em>192.168.2.0/16</em>.
Server (<em>192.168.2.102</em>), Player (<em>192.168.2.106</em>).</p>

<h3>Discover</h3>

<p>Zunächst sendet der Player (Client) ein UDP Paket an eine multicast
Adresse: <code>192.168.2.106:39250 &gt; 239.255.255.250:1900</code>. Der
Quellport ist beliebig, der Zielport ist <em>1900</em>.</p>

<pre><code>M-SEARCH * HTTP/1.1
MX: 3
ST: ssdp:all
HOST: 239.255.255.250:1900
MAN: ssdp:discover
</code></pre>

<p>Die Antwort von einem UPnP-Server geht von Port <em>1900</em> an Ursprungsadresse
und Port <code>192.168.2.102:1900 &gt; 192.168.2.106:39250</code>:</p>

<pre><code>HTTP/1.1 200 OK
CACHE-CONTROL: max-age=1210
DATE: Sun, 20 Sep 2015 17:04:12 GMT
ST: urn:microsoft.com:service:X_MS_MediaReceiverRegistrar:1
USN: uuid:4d696e69-444c-164e-9d41-f0def14a0058::urn:microsoft.com:service:X_MS_MediaReceiverRegistrar:1
EXT:
SERVER: 3.2.0-61-generic.DLNADOC/1.50 UPnP/1.0 MiniDLNA/1.1.2
LOCATION: http://192.168.2.102:8200/rootDesc.xml
Content-Length: 0
</code></pre>

<p>Damit teilt der Server sein Vorhandensein mit und gibt weitere
Informationen. Die URL in der Antwort (unter LOCATION) kann im
Browser geöffnet werden:</p>

<p><code>curl -I http://192.168.2.102:8200/rootDesc.xml</code>.</p>

<pre><code>HTTP/1.1 200 OK
Content-Type: text/xml; charset="utf-8"
Connection: close
Content-Length: 2204
Server: 3.2.0-61-generic DLNADOC/1.50 UPnP/1.0 MiniDLNA/1.1.2
Date: Sun, 20 Sep 2015 17:48:56 GMT
EXT:
</code></pre>

<p>Für mich bedeutet das zusätzliche Regeln in der Firewall für den
Server:</p>

<pre><code>-A INPUT -p tcp -m tcp -s 192.168.0.0/16 -m state --state NEW,ESTABLISHED --dport 8200 -j ACCEPT
-A OUTPUT -p tcp -d 192.168.0.0/16 -m state --state ESTABLISHED --sport 8200 -j ACCEPT

-A INPUT -p udp -s 192.168.0.0/16 -d 239.255.255.250 --dport 1900 -j ACCEPT
-A OUTPUT -p udp -s 192.168.0.0/16 -d 192.168.0.0/16 --sport 1900 -j ACCEPT
</code></pre>

<p>Und für den Player (Client):</p>

<pre><code>-A INPUT -p tcp -m tcp -s 192.168.0.0/16 -d 192.168.0.0/16 -m state --state ESTABLISHED --sport 8200 -j ACCEPT
-A OUTPUT -p tcp -s 192.168.0.0/16 -d 192.168.0.0/16 -m state --state NEW,ESTABLISHED --dport 8200 -j ACCEPT

-A INPUT -p udp -s 192.168.0.0/16 -d 192.168.0.0/16 --sport 1900 -j ACCEPT
-A OUTPUT -p udp -s 192.168.0.0/16 -d 239.255.255.250 --dport 1900 -j ACCEPT
</code></pre>

<p>Dass müsste gehen. Es kann sein, dass der Server noch einige
Fehlermeldungen wirft: <code>error: sendto(udp_notify=8, 192.168.2.102):
Operation not permitted</code>. Dann hilft es die Firewallregeln des Players
zusätzlich dem Server zu geben&ndash;der Server ist auch ein Client. Es
müsste aber auch einfach so gehen.</p>
</section>
  
  

<div style='clear:both;'></div>

    </article>
  
  <div id="pagination">
    <table><tr>
    
      <td class='next'><a class="next" href="/blog/posts/17">Older</a></td>
    
      <td class='arch'><a class='arch' href="/blog/archives">Archives</a></td>
     
      <td class='prev'><a class="prev" href="/blog/posts/15">Newer</a></td>
    
    </tr></table>
  </div>
</div>

  <footer><section class='posts'>
  <ul>
  
  <li><a href="/blog/2021/01/17/fortschritt-slash-ausblick-20-slash-21/">1. Fortschritt/Ausblick 20/21</a></li>
  
  <li><a href="/blog/2020/09/13/zahnradgetriebe/">2. Zahnradgetriebe</a></li>
  
  <li><a href="/blog/2020/09/06/getriebe-ubersetzung-1-96/">3. Getriebe-Übersetzung (1:96)</a></li>
  
  <li><a href="/blog/2020/07/21/verschworungstheologien/">4. Verschwörungstheologien</a></li>
  
  <li><a href="/blog/2020/06/06/einfach-nur-leer/">5. Einfach nur Leer</a></li>
  
  </ul>
</section>
<section class='copyright'>
  <p>
    Copyright &copy; 2010-2021 | Manuel | <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  </p>
</section>
</footer>
</body>
</html>
